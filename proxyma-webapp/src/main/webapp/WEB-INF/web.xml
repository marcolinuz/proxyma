<!DOCTYPE web-app PUBLIC
 "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
 "http://java.sun.com/dtd/web-app_2_3.dtd" >
<!--
    Document   : web.xml
    Description:
       This is the main deply descriptor of proxyma-webapp.

    NOTE:
       this software is released under GPL License.
       See the LICENSE of this distribution for more informations.

       @author Marco Casavecchia Morganti (marcolinuz) [marcolinuz-at-gmail.com]
       @version $Id$
-->
<web-app>
  <!-- Application Name -->
    <display-name>
        Proxyma 1.0-alpha (Multiple Reverse/Proxy)
    </display-name>

    <!-- Application Description -->
    <description>
        This is a Java Reverse Proxy with basic url-rewriting capabilities based
        upon the proxyma-core project.
    </description>

    <servlet>
        <description>
            This is the main servlet that process all the requests and performs
            the url-rewriting job using the proxyma-core library.
        </description>
        <servlet-name>ProxymaServlet</servlet-name>
        <servlet-class>m.c.m.proxyma.ProxymaServlet</servlet-class>

        <!-- The name of the Proxyma Context for this webapp. -->
        <init-param>
            <param-name>ProxymaContextName</param-name>
            <param-value>default</param-value>
        </init-param>

        <!-- The directory where proxyma will write its logs -->
        <init-param>
            <param-name>ProxymaLogsDir</param-name>
            <param-value>${catalina.home}/logs/</param-value>
        </init-param>

        <!-- The proxyma-config file path
             Note: To work properly every instance of proxyma-webapp have to
                   share the same configuration file with the proxyma-console.
                   To do so you have 2 possibilities:
                    1- copy the file int the WE-INF directory of every webapp
                       that uses the proxyma-core library.
                    2- Specify for alla the webapps a path where an unique
                       configuration file can be found.
                    By default proxyma uses the firs approach. If you want to
                    use the centralized configuration file uncomment the
                    following node and copy the proxyma-config into your
                    ${CATALINA_HOME}/conf/ directory. -->
<!--
        <init-param>
            <param-name>ProxymaConfigurationFile</param-name>
            <param-value>${catalina.home}/conf/proxyma-config.xml</param-value>
        </init-param>
-->
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>ProxymaServlet</servlet-name>
        <url-pattern>/*</url-pattern>
    </servlet-mapping>
</web-app>
